{"ast":null,"code":"import axios from \"axios\";\nexport const getAllMovies = async () => {\n  const res = await axios.get(\"/movie\").catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"No data\");\n  }\n  const data = await res.data;\n  return data;\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n    name: signup ? data.name : \"\",\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200 && res.status !== 201) {\n    console.log(\"Unexpected Error Ocurred\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const sendAdminAuthRequest = async data => {\n  const res = await axios.post(\"/admin/login\", {\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getMovieDetails = async id => {\n  const res = await axios.get(`/movie/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const newBooking = async data => {\n  try {\n    const res = await axios.post(\"/booking\", {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\")\n    });\n    console.log('Response:', res);\n    if (res.status !== 201) {\n      return console.log(\"Unexpected Error Occured\");\n    }\n    const resData = await res.data;\n    return resData;\n  } catch (err) {\n    console.error('Error:', err);\n    throw err;\n  }\n};\nexport const getUserBooking = async () => {\n  // alert();\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/user/bookings/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const deleteBooking = async id => {\n  const res = await axios.delete(`/booking/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getUserDetails = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/user/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const addMovie = async data => {\n  const res = await axios.post(\"/movie\", {\n    title: data.title,\n    description: data.description,\n    releaseDate: data.releaseDate,\n    posterUrl: data.posterUrl,\n    featured: data.featured,\n    actors: data.actors,\n    admin: localStorage.getItem(\"adminId\")\n  }, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  }).catch(err => console.log(err));\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getAdminById = async () => {\n  const adminId = localStorage.getItem(\"adminId\");\n  axios.get(`/admin/${adminId}`);\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","catch","err","console","log","status","data","sendUserAuthRequest","signup","post","name","email","password","resData","sendAdminAuthRequest","getMovieDetails","id","newBooking","movie","seatNumber","date","user","localStorage","getItem","error","getUserBooking","deleteBooking","delete","getUserDetails","addMovie","title","description","releaseDate","posterUrl","featured","actors","admin","headers","Authorization","getAdminById","adminId"],"sources":["C:/Users/rishi/Dropbox/Web-development/project-React/moviebooking-mern/movies/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getAllMovies = async () => {\r\n  const res = await axios.get(\"/movie\").catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200) {\r\n    return console.log(\"No data\");\r\n  }\r\n  const data = await res.data;\r\n  return data;\r\n};\r\n\r\nexport const sendUserAuthRequest = async (data, signup) => {\r\n  const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\r\n    name: signup ? data.name : \"\",\r\n    email: data.email,\r\n    password: data.password\r\n  }).catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200 && res.status !== 201) {\r\n    console.log(\"Unexpected Error Ocurred\");\r\n  }\r\n\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const sendAdminAuthRequest = async (data) => {\r\n  const res = await axios.post(\"/admin/login\", {\r\n    email: data.email,\r\n    password: data.password,\r\n  }).catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected Error Occured\");\r\n  }\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const getMovieDetails = async (id) => {\r\n  const res = await axios.get(`/movie/${id}`).catch((err) => console.log(err));\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected Error Occured\");\r\n  }\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const newBooking = async (data) => {\r\n  try {\r\n    const res = await axios.post(\"/booking\", {\r\n      movie: data.movie,\r\n      seatNumber: data.seatNumber,\r\n      date: data.date,\r\n      user: localStorage.getItem(\"userId\"),\r\n    });\r\n    console.log('Response:', res);\r\n    if (res.status !== 201) {\r\n      return console.log(\"Unexpected Error Occured\");\r\n    }\r\n    const resData = await res.data;\r\n    return resData;\r\n  } catch (err) {\r\n    console.error('Error:', err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const getUserBooking = async () => {\r\n  // alert();\r\n  const id = localStorage.getItem(\"userId\");\r\n  const res = await axios\r\n    .get(`/user/bookings/${id}`)\r\n    .catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected Error\");\r\n  }\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const deleteBooking = async (id) => {\r\n  const res = await axios.delete(`/booking/${id}`).catch((err) => console.log(err));\r\n\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected Error\");\r\n  }\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const getUserDetails = async () => {\r\n  const id = localStorage.getItem(\"userId\");\r\n  const res = await axios.get(`/user/${id}`).catch((err) => console.log(err));\r\n  if (res.status !== 200) {\r\n    return console.log(\"Unexpected Error\");\r\n  }\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const addMovie = async (data) => {\r\n  const res = await axios.post(\"/movie\", {\r\n    title: data.title,\r\n    description: data.description,\r\n    releaseDate: data.releaseDate,\r\n    posterUrl: data.posterUrl,\r\n    featured: data.featured,\r\n    actors: data.actors,\r\n    admin: localStorage.getItem(\"adminId\"),\r\n  }, {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n    }\r\n  }).catch((err) => console.log(err));\r\n\r\n  if (res.status !== 201) {\r\n    return console.log(\"Unexpected Error\");\r\n  }\r\n  const resData = await res.data;\r\n  return resData;\r\n};\r\n\r\nexport const getAdminById = async() => {\r\n  const adminId = localStorage.getItem(\"adminId\");\r\n  axios.get(`/admin/${adminId}`)\r\n};\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}