{"ast":null,"code":"import axios from \"axios\";\nexport const getAllMovies = async () => {\n  const res = await axios.get(\"/movie\").catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"No data\");\n  }\n  const data = await res.data;\n  return data;\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n    name: signup ? data.name : \"\",\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200 && res.status !== 201) {\n    console.log(\"Unexpected Error Ocurred\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const sendAdminAuthRequest = async data => {\n  const res = await axios.post(\"/admin/login\", {\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getMovieDetails = async id => {\n  const res = await axios.get(`/movie/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const newBooking = async data => {\n  try {\n    alert();\n    const res = await axios.post(\"/booking\", {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\")\n    });\n    console.log('Response:', res);\n    if (res.status !== 201) {\n      return console.log(\"Unexpected Error Occured\");\n    }\n    const resData = await res.data;\n    return resData;\n  } catch (err) {\n    console.error('Error:', err);\n    throw err;\n  }\n};\nexport const getUserBooking = async () => {\n  alert();\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/user/bookings/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","catch","err","console","log","status","data","sendUserAuthRequest","signup","post","name","email","password","resData","sendAdminAuthRequest","getMovieDetails","id","newBooking","alert","movie","seatNumber","date","user","localStorage","getItem","error","getUserBooking"],"sources":["C:/Users/rishi/Dropbox/Web-development/project-React/moviebooking-mern/movies/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getAllMovies = async () => {\r\n    const res = await axios.get(\"/movie\").catch((err)=>console.log(err));\r\n\r\n    if(res.status !== 200)\r\n    {\r\n        return console.log(\"No data\");\r\n    }\r\n    const data = await res.data;\r\n    return data;\r\n};\r\n\r\nexport const sendUserAuthRequest = async(data, signup) => {\r\n    const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\r\n        name : signup ? data.name : \"\",\r\n        email : data.email,\r\n        password : data.password\r\n    }).catch((err)=>console.log(err));\r\n\r\n    if(res.status !== 200 && res.status !== 201)\r\n    {\r\n        console.log(\"Unexpected Error Ocurred\");\r\n    }\r\n\r\n    const resData = await res.data;\r\n    return resData;\r\n};\r\n\r\nexport const sendAdminAuthRequest = async(data) => {\r\n    const res = await axios.post(\"/admin/login\", {\r\n        email : data.email,\r\n        password : data.password,\r\n    }).catch((err)=>console.log(err));\r\n\r\n    if(res.status !== 200)\r\n    {\r\n        return console.log(\"Unexpected Error Occured\");\r\n    }\r\n    const resData = await res.data;\r\n    return resData;\r\n};\r\n\r\nexport const getMovieDetails = async(id) => {\r\n    const res = await axios.get(`/movie/${id}`).catch((err) => console.log(err));\r\n    if(res.status !== 200){\r\n        return console.log(\"Unexpected Error Occured\");\r\n    }\r\n    const resData = await res.data;\r\n    return resData;\r\n};\r\n\r\nexport const newBooking = async (data) => {\r\n    try {\r\n      alert();\r\n      const res = await axios.post(\"/booking\", {\r\n        movie: data.movie,\r\n        seatNumber: data.seatNumber,\r\n        date: data.date,\r\n        user: localStorage.getItem(\"userId\"),\r\n      });\r\n      console.log('Response:', res);\r\n      if (res.status !== 201) {\r\n        return console.log(\"Unexpected Error Occured\");\r\n      }\r\n      const resData = await res.data;\r\n      return resData;\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  export const getUserBooking = async () => {\r\n    alert();\r\n    const id = localStorage.getItem(\"userId\");\r\n    const res = await axios\r\n      .get(`/user/bookings/${id}`)\r\n      .catch((err) => console.log(err));\r\n  \r\n    if (res.status !== 200) {\r\n      return console.log(\"Unexpected Error\");\r\n    }\r\n    const resData = await res.data;\r\n    return resData;\r\n  };\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}