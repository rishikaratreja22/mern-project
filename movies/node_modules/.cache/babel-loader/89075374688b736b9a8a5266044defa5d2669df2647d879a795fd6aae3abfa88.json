{"ast":null,"code":"import axios from \"axios\";\nexport const getAllMovies = async () => {\n  const res = await axios.get(\"/movie\").catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"No data\");\n  }\n  const data = await res.data;\n  return data;\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n    name: signup ? data.name : \"\",\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200 && res.status !== 201) {\n    console.log(\"Unexpected Error Ocurred\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const sendAdminAuthRequest = async data => {\n  const res = await axios.post(\"/admin/login\", {\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const getMovieDetails = async id => {\n  const res = await axios.get(`/movie/${id}`).catch(err => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occured\");\n  }\n  const resData = await res.data;\n  return resData;\n};\nexport const newBooking = async data => {\n  try {\n    const res = await axios.post(\"/bookings\", {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\")\n    });\n\n    // Check for successful creation\n    if (res.status === 201) {\n      return res.data;\n    } else {\n      console.error(\"Unexpected Error: Status Code\", res.status);\n      return null;\n    }\n  } catch (err) {\n    if (err.response) {\n      // The request was made and the server responded with a status code\n      // that falls out of the range of 2xx\n      console.error(\"Error Response:\", err.response);\n      if (err.response.status === 404) {\n        console.error(\"Endpoint /booking not found on the server.\");\n      } else {\n        console.error(\"Error Status:\", err.response.status);\n        console.error(\"Error Data:\", err.response.data);\n      }\n    } else if (err.request) {\n      // The request was made but no response was received\n      console.error(\"No response received. Request:\", err.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.error(\"Error in setting up the request:\", err.message);\n    }\n    return null;\n  }\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","catch","err","console","log","status","data","sendUserAuthRequest","signup","post","name","email","password","resData","sendAdminAuthRequest","getMovieDetails","id","newBooking","movie","seatNumber","date","user","localStorage","getItem","error","response","request","message"],"sources":["C:/Users/rishi/Dropbox/Web-development/project-React/moviebooking-mern/movies/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getAllMovies = async () => {\r\n    const res = await axios.get(\"/movie\").catch((err)=>console.log(err));\r\n\r\n    if(res.status !== 200)\r\n    {\r\n        return console.log(\"No data\");\r\n    }\r\n    const data = await res.data;\r\n    return data;\r\n};\r\n\r\nexport const sendUserAuthRequest = async(data, signup) => {\r\n    const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\r\n        name : signup ? data.name : \"\",\r\n        email : data.email,\r\n        password : data.password\r\n    }).catch((err)=>console.log(err));\r\n\r\n    if(res.status !== 200 && res.status !== 201)\r\n    {\r\n        console.log(\"Unexpected Error Ocurred\");\r\n    }\r\n\r\n    const resData = await res.data;\r\n    return resData;\r\n};\r\n\r\nexport const sendAdminAuthRequest = async(data) => {\r\n    const res = await axios.post(\"/admin/login\", {\r\n        email : data.email,\r\n        password : data.password,\r\n    }).catch((err)=>console.log(err));\r\n\r\n    if(res.status !== 200)\r\n    {\r\n        return console.log(\"Unexpected Error Occured\");\r\n    }\r\n    const resData = await res.data;\r\n    return resData;\r\n};\r\n\r\nexport const getMovieDetails = async(id) => {\r\n    const res = await axios.get(`/movie/${id}`).catch((err) => console.log(err));\r\n    if(res.status !== 200){\r\n        return console.log(\"Unexpected Error Occured\");\r\n    }\r\n    const resData = await res.data;\r\n    return resData;\r\n};\r\n\r\nexport const newBooking = async (data) => {\r\n    try {\r\n        const res = await axios.post(\"/bookings\", {\r\n            movie: data.movie, \r\n            seatNumber: data.seatNumber,\r\n            date: data.date,\r\n            user: localStorage.getItem(\"userId\"),\r\n        });\r\n\r\n        // Check for successful creation\r\n        if (res.status === 201) {\r\n            return res.data;\r\n        } else {\r\n            console.error(\"Unexpected Error: Status Code\", res.status);\r\n            return null;\r\n        }\r\n    } catch (err) {\r\n        if (err.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.error(\"Error Response:\", err.response);\r\n            if (err.response.status === 404) {\r\n                console.error(\"Endpoint /booking not found on the server.\");\r\n            } else {\r\n                console.error(\"Error Status:\", err.response.status);\r\n                console.error(\"Error Data:\", err.response.data);\r\n            }\r\n        } else if (err.request) {\r\n            // The request was made but no response was received\r\n            console.error(\"No response received. Request:\", err.request);\r\n        } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.error(\"Error in setting up the request:\", err.message);\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}